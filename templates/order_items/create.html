{% extends 'base_tailwind.html' %}
{% block title %}{{ 'Editar' if order_item else 'Novo' }} Item do Pedido{% endblock %}
{% block content %}
<form method="post" class="bg-white p-6 rounded shadow-md">
  <label class="block mb-2">Pedido</label>
  <select name="order_id" class="w-full p-2 border mb-4" required>
    <option value="">Novo pedido</option>
  </select>

  <label class="block mb-2">Produto</label>
  <select name="product_id" class="w-full p-2 border mb-4" required>
    {% for p in products %}
      <option value="{{ p[0] }}" {% if order_item and order_item[2] == p[0] %}selected{% endif %}>{{ p[1] }}</option>
    {% endfor %}
  </select>

  <label class="block mb-2">Quantidade</label>
  <input type="number" name="quantity" min="1" class="w-full p-2 border mb-4" value="{{ order_item[3] if order_item else 1 }}" required>

  <button class="bg-indigo-600 text-white px-4 py-2 rounded">Salvar</button>
</form>
{% endblock %}
